(()=>{"use strict";const e=[["Esc","`","1","2","3","4","5","6","7","8","9","0","-","=","&#10229"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del"],["Caps","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]],s=[["Esc","~","!","@","#","$","%","^","&","*","(",")","_","+","&#10229"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del"],["Caps","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]],t=[["Esc","ё","1","2","3","4","5","6","7","8","9","0","-","=","&#10229"],["Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Del"],["Caps","ф","ы","в","а","п","р","о","л","д","ж","э","Enter"],["Shift","я","ч","с","м","и","т","ь","б","ю",".","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]],r=[["Esc","Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","&#10229"],["Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Del"],["Caps","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter"],["Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]];function a(e,t){"q"===e[16].innerHTML?e.forEach(((e,t)=>{e.innerHTML=s.flat()[t]})):"й"===e[16].innerHTML&&e.forEach(((e,s)=>{e.innerHTML=r.flat()[s]})),t.forEach((e=>e.classList.add("pressed")))}function n(s,r){"Q"===s[16].innerHTML?s.forEach(((s,t)=>{s.innerHTML=e.flat()[t]})):"Й"===s[16].innerHTML&&s.forEach(((e,s)=>{e.innerHTML=t.flat()[s]})),r.forEach((e=>e.classList.remove("pressed")))}function c(e,t){"q"===e[16].innerHTML?e.forEach(((e,t)=>{e.innerHTML=s.flat()[t]})):"й"===e[16].innerHTML&&e.forEach(((e,s)=>{e.innerHTML=r.flat()[s]})),t.classList.add("pressed")}function i(s,r){"Q"===s[16].innerHTML?s.forEach(((s,t)=>{s.innerHTML=e.flat()[t]})):"Й"===s[16].innerHTML&&s.forEach(((e,s)=>{e.innerHTML=t.flat()[s]})),r.classList.remove("pressed")}function l(l){l.preventDefault(),console.log(l.code);const o=document.querySelector(".input"),d=l.currentTarget.querySelector(".backspace"),L=l.currentTarget.querySelector(".tab"),p=l.currentTarget.querySelector(".caps"),u=l.key,y=l.currentTarget.querySelector(".space"),T=l.currentTarget.querySelector(".arrow-up"),w=l.currentTarget.querySelector(".arrow-down"),f=l.currentTarget.querySelector(".arrow-left"),h=l.currentTarget.querySelector(".arrow-right"),H=(l.currentTarget.querySelectorAll(".arrow"),l.currentTarget.querySelectorAll(".shift")),M=l.currentTarget.querySelectorAll(".key"),g=l.currentTarget.querySelectorAll(".withTwoValue"),k=document.querySelectorAll(".ctrl"),E=document.querySelectorAll(".alt"),m=document.querySelector(".enter"),v=[];g.forEach((e=>v.push(e.innerHTML))),console.log(("Q"===M[16].innerHTML||l.target.classList.contains("shift"))&&!l.target.classList.contains("caps")&&!M[30].classList.contains("pressed")&&"keyup"!==l.type&&l.repeat),console.log(l.key,l.type,l.repeat),"keydown"===l.type&&(console.log("Helli, Peter"),g.forEach(((e,s)=>{e.innerHTML===u&&e.classList.add("pressed")})))," "===u&&"keydown"===l.type&&y.classList.add("pressed"),!l.target.classList.contains("shift")||"q"!==M[16].innerHTML&&"й"!==M[16].innerHTML||M[30].classList.contains("pressed")?"Q"!==M[16].innerHTML&&"Й"!==M[16].innerHTML&&!l.target.classList.contains("shift")||l.target.classList.contains("caps")||!l.target.classList.contains("key")||M[30].classList.contains("pressed")||"click"!==l.type||"true"===l.repeat?l.target.classList.contains("caps")&&!l.target.classList.contains("pressed")?(H.forEach((e=>e.classList.remove("pressed"))),c(M,p)):"keydown"!==l.type||["Escape","Tab","CapsLock","Shift","Control","Meta","Alt","Enter","Backspace","Delete","ArrowLeft","ArrowRight","ArrowDown","ArrowUp"].includes(l.key)?l.target.classList.contains("caps")&&l.target.classList.contains("pressed")?i(M,p):"Shift"!==u||"q"!==M[16].innerHTML&&"й"!==M[16].innerHTML||M[30].classList.contains("pressed")||"keydown"!==l.type?"Shift"===u&&"keyup"===l.type?n(M,H):l.target.classList.contains("withTwoValue")||l.target.classList.contains("space")?o.value+=l.target.innerHTML:l.target.classList.contains("tab")?o.value+=y.innerHTML.repeat(3):l.target.classList.contains("backspace")?o.value=o.value.slice(0,-1):"Backspace"===u&&"keydown"===l.type?(o.value=o.value.slice(0,-1),d.classList.add("pressed")):"Backspace"===u&&"keyup"===l.type?d.classList.remove("pressed"):v.includes(u)&&"keydown"===l.type?(o.value+=u,function(e,s,t){t.map(((t,r)=>{t===s&&e[r].classList.add("pressed")}))}(g,u,v)):v.includes(u)&&"keyup"===l.type?function(e,s,t){t.map(((t,r)=>{t===s&&e[r].classList.remove("pressed")}))}(g,u,v):l.target.classList.contains("arrow")?o.value+=l.target.innerHTML:"ArrowUp"!==u&&"ArrowDown"!==u&&"ArrowLeft"!==u&&"ArrowRight"!==u||"keydown"!==l.type?"ArrowUp"!==u&&"ArrowDown"!==u&&"ArrowLeft"!==u&&"ArrowRight"!==u||"keyup"!==l.type?" "===l.key&&"keyup"===l.type?y.classList.remove("pressed"):"Tab"===u&&"keydown"===l.type?(o.value+=y.innerHTML.repeat(3),L.classList.add("pressed")):"Tab"===u&&"keyup"===l.type?L.classList.remove("pressed"):"CapsLock"!==u||"keydown"!==l.type||p.classList.contains("pressed")||!0===l.repeat?"CapsLock"===u&&"keydown"===l.type&&p.classList.contains("pressed")&&!0!==l.repeat?i(M,p):(l.target.classList.contains("ctrl")||"Control"===u&&"keydown"===l.type)&&!l.target.classList.contains("pressed")?k.forEach((e=>e.classList.add("pressed"))):(l.target.classList.contains("alt")||"Alt"===u&&"keydown"===l.type)&&!l.target.classList.contains("pressed")?E.forEach((e=>e.classList.add("pressed"))):(l.target.classList.contains("ctrl")||"Control"===u&&"keyup"===l.type)&&!document.querySelector(".alt").classList.contains("pressed")?k.forEach((e=>e.classList.remove("pressed"))):(l.target.classList.contains("alt")||"Alt"===u&&"keyup"===l.type)&&!document.querySelector(".ctrl").classList.contains("pressed")?E.forEach((e=>e.classList.remove("pressed"))):l.target.classList.contains("enter")?o.value+="\n":"Enter"===u&&"keydown"===l.type?(o.value+="\n",m.classList.add("pressed")):"Enter"===u&&"keyup"===l.type&&m.classList.remove("pressed"):c(M,p):"ArrowUp"===u?T.classList.remove("pressed"):"ArrowDown"===u?w.classList.remove("pressed"):"ArrowLeft"===u?f.classList.remove("pressed"):"ArrowRight"===u&&h.classList.remove("pressed"):"ArrowUp"===u?(o.value+="▲",T.classList.add("pressed")):"ArrowDown"===u?(o.value+="▼",w.classList.add("pressed")):"ArrowLeft"===u?(o.value+="◀",f.classList.add("pressed")):"ArrowRight"===u&&(o.value+="▶",h.classList.add("pressed")):a(M,H):o.value+=l.key:(console.log("hello, Peter"),"Shift"!==l.target.innerHTML&&(o.value+=l.target.innerHTML),n(M,H)):a(M,H),document.querySelector(".ctrl").classList.contains("pressed")&&document.querySelector(".alt").classList.contains("pressed")&&(function(a){"Q"===a[16].innerHTML?a.forEach(((e,s)=>{e.innerHTML=r.flat()[s]})):"q"===a[16].innerHTML?a.forEach(((e,s)=>{e.innerHTML=t.flat()[s]})):"Й"===a[16].innerHTML?a.forEach(((e,t)=>{e.innerHTML=s.flat()[t]})):"й"===a[16].innerHTML&&a.forEach(((s,t)=>{s.innerHTML=e.flat()[t]}))}(M),k.forEach((e=>e.classList.remove("pressed"))),E.forEach((e=>e.classList.remove("pressed"))))}!function(){const e=document.querySelector("body"),s=document.createElement("div");e.append(s),s.classList.add("container");const t=document.createElement("textarea");s.append(t),t.classList.add("input"),t.setAttribute("row","5"),t.setAttribute("cols","50"),t.setAttribute("placeholder","The keyboard was made in Windows. To change language use any ctrl + alt");const r=document.createElement("div");s.append(r),r.classList.add("keyboard")}(),e.map(((e,s)=>function(e,s){const t=document.createElement("div");document.querySelector(".keyboard").append(t),t.classList.add("row"),t.classList.add(`row-${s}`),e.forEach((e=>{const s=document.createElement("div");t.append(s),s.classList.add("key"),s.innerHTML=`${e}`,function(e){"⟵"===e.innerHTML?e.classList.add("backspace"):"Esc"===e.innerHTML?e.classList.add("esc"):"Tab"===e.innerHTML?e.classList.add("tab"):"Del"===e.innerHTML?e.classList.add("del"):"Caps"===e.innerHTML?e.classList.add("caps"):"Enter"===e.innerHTML?e.classList.add("enter"):"Shift"===e.innerHTML?e.classList.add("shift"):"Fn"===e.innerHTML?e.classList.add("fn"):"Ctrl"===e.innerHTML?e.classList.add("ctrl"):"Win"===e.innerHTML?e.classList.add("win"):"Alt"===e.innerHTML?e.classList.add("alt"):"&#9776"===e.innerHTML?e.classList.add("menu"):"▲"===e.innerHTML?(e.classList.add("arrow-up"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"◀"===e.innerHTML?(e.classList.add("arrow-left"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"▼"===e.innerHTML?(e.classList.add("arrow-down"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"▶"===e.innerHTML?(e.classList.add("arrow-right"),e.classList.add("arrow"),e.classList.add("withTwoValue")):" "===e.innerHTML?e.classList.add("space"):e.classList.add("withTwoValue")}(s)}))}(e,s))),document.querySelector(".keyboard").addEventListener("click",l),document.addEventListener("keydown",l),document.addEventListener("keyup",l)})();